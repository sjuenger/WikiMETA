--> reference value also prop/value/..... -> wird durch prop/P nicht erfasst.
. oder doch?
prv:P22 : > /prop/reference/value/ : Link reference to deep value
oder prvn ? reference value normalized 

--> falls ein property 2x, 3x pro Query vorkommt, muss es dann auch 3x gezählt werden?
--> gleiches Problem bei den Qualifier properties, die in die einzelnen PIDs aufgeteilt werden

--> was ist mit wikibase:qualifier oder wikibase:reference

also z.B. wd:P22 a wikibase:property;
	....
	wikibase:qualifier pq:P22 ;
	wikibase:qualifierValue pqv:P22
	wikibase:reference pr:P22 ;
	wikibase:referenceValue prv:P22 ;

--> bei dem BIND scenario noch das scenario hinzufügen, indem das VAR verwendet wird --> die scenario unit / methoden :) nutzen :):)

--> split the found reference properties and the found qualifier properties up into the Pxx values 
--> use th edictionary on wikidata properties to detemine, which of the above values is an recommanded reference/qualifier property -> ad which isn't

--> Fehler bei der Umwandeln: 
RANKS
{'type': 'bind', 'variable': {'termType': 'Variable', 'value': 'var13'}, 'expression': {'type': 'operation', 'operator': 'substr', 'args': [{'type': 'operation', 'operator': 'str', 'args': [{'termType': 'Variable', 'value': 'var5'}]}, {'termType': 'Literal', 'value': '1', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#integer'}}, {'termType': 'Literal', 'value': '10', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#integer'}}]}}
{'type': 'bind', 'variable': {'termType': 'Variable', 'value': 'var14'}, 'expression': {'type': 'operation', 'operator': 'substr', 'args': [{'type': 'operation', 'operator': 'str', 'args': [{'termType': 'Variable', 'value': 'var9'}]}, {'termType': 'Literal', 'value': '1', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#integer'}}, {'termType': 'Literal', 'value': '10', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#integer'}}]}}
{'type': 'bind', 'variable': {'termType': 'Variable', 'value': 'var6'}, 'expression': {'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': 'in', 'args': [{'termType': 'Variable', 'value': 'var13'}, [{'termType': 'Literal', 'value': '1930-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1935-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1940-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1945-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1950-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1960-11-01', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1965-11-01', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1970-11-01', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1975-11-01', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1980-09-15', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1985-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1990-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1995-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '2000-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '2005-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '2010-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '2015-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '2016-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}]]}, {'termType': 'Literal', 'value': 'OK', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': 'Not OK', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}]}}
{'type': 'bind', 'variable': {'termType': 'Variable', 'value': 'var10'}, 'expression': {'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': 'in', 'args': [{'termType': 'Variable', 'value': 'var14'}, [{'termType': 'Literal', 'value': '1930-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1935-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1940-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1945-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1950-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1960-11-01', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1965-11-01', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1970-11-01', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1975-11-01', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1980-09-15', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1985-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1990-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '1995-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '2000-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '2005-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '2010-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '2015-12-31', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}]]}, {'termType': 'Literal', 'value': 'OK', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': 'Not OK', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}]}}
{'type': 'bind', 'variable': {'termType': 'Variable', 'value': 'var10'}, 'expression': {'type': 'functionCall', 'function': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#integer'}, 'args': [{'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': '=', 'args': [{'termType': 'Variable', 'value': 'var5'}, {'termType': 'NamedNode', 'value': 'http://wikiba.se/ontology#PreferredRank'}]}, {'termType': 'Literal', 'value': '2', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': '=', 'args': [{'termType': 'Variable', 'value': 'var5'}, {'termType': 'NamedNode', 'value': 'http://wikiba.se/ontology#NormalRank'}]}, {'termType': 'Literal', 'value': '1', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '0', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}]}]}], 'distinct': False}}
{'type': 'bind', 'variable': {'termType': 'Variable', 'value': 'var10'}, 'expression': {'type': 'functionCall', 'function': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#integer'}, 'args': [{'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': '=', 'args': [{'termType': 'Variable', 'value': 'var5'}, {'termType': 'NamedNode', 'value': 'http://wikiba.se/ontology#PreferredRank'}]}, {'termType': 'Literal', 'value': '2', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': '=', 'args': [{'termType': 'Variable', 'value': 'var5'}, {'termType': 'NamedNode', 'value': 'http://wikiba.se/ontology#NormalRank'}]}, {'termType': 'Literal', 'value': '1', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '0', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}]}]}], 'distinct': False}}
{'type': 'bind', 'variable': {'termType': 'Variable', 'value': 'var10'}, 'expression': {'type': 'functionCall', 'function': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#integer'}, 'args': [{'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': '=', 'args': [{'termType': 'Variable', 'value': 'var5'}, {'termType': 'NamedNode', 'value': 'http://wikiba.se/ontology#PreferredRank'}]}, {'termType': 'Literal', 'value': '2', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': '=', 'args': [{'termType': 'Variable', 'value': 'var5'}, {'termType': 'NamedNode', 'value': 'http://wikiba.se/ontology#NormalRank'}]}, {'termType': 'Literal', 'value': '1', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '0', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}]}]}], 'distinct': False}}
{'type': 'bind', 'variable': {'termType': 'Variable', 'value': 'var10'}, 'expression': {'type': 'functionCall', 'function': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#integer'}, 'args': [{'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': '=', 'args': [{'termType': 'Variable', 'value': 'var5'}, {'termType': 'NamedNode', 'value': 'http://wikiba.se/ontology#PreferredRank'}]}, {'termType': 'Literal', 'value': '2', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': '=', 'args': [{'termType': 'Variable', 'value': 'var5'}, {'termType': 'NamedNode', 'value': 'http://wikiba.se/ontology#NormalRank'}]}, {'termType': 'Literal', 'value': '1', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '0', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}]}]}], 'distinct': False}}
{'type': 'bind', 'variable': {'termType': 'Variable', 'value': 'var10'}, 'expression': {'type': 'functionCall', 'function': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#integer'}, 'args': [{'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': '=', 'args': [{'termType': 'Variable', 'value': 'var5'}, {'termType': 'NamedNode', 'value': 'http://wikiba.se/ontology#PreferredRank'}]}, {'termType': 'Literal', 'value': '2', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': '=', 'args': [{'termType': 'Variable', 'value': 'var5'}, {'termType': 'NamedNode', 'value': 'http://wikiba.se/ontology#NormalRank'}]}, {'termType': 'Literal', 'value': '1', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '0', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}]}]}], 'distinct': False}}
{'type': 'bind', 'variable': {'termType': 'Variable', 'value': 'var10'}, 'expression': {'type': 'functionCall', 'function': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#integer'}, 'args': [{'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': '=', 'args': [{'termType': 'Variable', 'value': 'var5'}, {'termType': 'NamedNode', 'value': 'http://wikiba.se/ontology#PreferredRank'}]}, {'termType': 'Literal', 'value': '2', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'type': 'operation', 'operator': 'if', 'args': [{'type': 'operation', 'operator': '=', 'args': [{'termType': 'Variable', 'value': 'var5'}, {'termType': 'NamedNode', 'value': 'http://wikiba.se/ontology#NormalRank'}]}, {'termType': 'Literal', 'value': '1', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}, {'termType': 'Literal', 'value': '0', 'language': '', 'datatype': {'termType': 'NamedNode', 'value': 'http://www.w3.org/2001/XMLSchema#string'}}]}]}], 'distinct': False}}
Traceback (most recent call last):
  File "/home/sjuenger/PycharmProjects/WikiMETA/main.py", line 80, in <module>
    scenario_detection_unit.detect_scenarios(TIMEFRAME, DATA_TYPE)
  File "/home/sjuenger/PycharmProjects/WikiMETA/query_research/scenario_detection_unit.py", line 255, in detect_scenarios
    scenario_bind_detection.scenario_bind_occurrences(json_object, looking_for)
  File "/home/sjuenger/PycharmProjects/WikiMETA/query_research/scenarios/scenario_bind_detection.py", line 35, in scenario_bind_occurrences
    print("args " + where_part["expression"]["operator"])
KeyError: 'operator'

Process finished with exit code 1
